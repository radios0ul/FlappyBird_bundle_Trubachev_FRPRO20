(()=>{"use strict";var i={402:(i,t,e)=>{e.d(t,{Z:()=>a});var s=e(81),n=e.n(s),r=e(645),h=e.n(r)()(n());h.push([i.id,"/* ---ОБНУЛЕНИЕ--- */\n* {\n   padding: 0;\n   margin: 0;\n   border: 0;\n}\n\n*,\n*:before,\n*:after {\n   -moz-box-sizing: border-box;\n   -webkit-box-sizing: border-box;\n   box-sizing: border-box;\n}\n\n:focus,\n:active {\n   outline: none;\n}\n\na:focus,\na:active {\n   outline: none;\n}\n\nnav,\nfooter,\nheader,\naside {\n   display: block;\n}\n\nhtml,\nbody {\n   height: 100%;\n   width: 100%;\n   font-style: 100%;\n   line-height: 1;\n   font-style: 14px;\n   -ms-text-size-adjust: 100%;\n   -moz-text-size-adjust: 100%;\n   -webkit-text-size-adjust: 100%;\n}\n\ninput,\nbutton,\ntextarea {\n   font-family: inherit;\n}\n\ninput::-ms-clear {\n   display: none;\n}\n\nbutton {\n   cursor: pointer;\n}\n\nbutton::-moz-focus-inner {\n   padding: 0;\n   border: 0;\n}\n\na,\na:visited {\n   text-decoration: none;\n}\n\na:hover {\n   text-decoration: none;\n}\n\nul li {\n   list-style-type: none;\n}\n\nimg {\n   vertical-align: top;\n}\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n   font-style: inherit;\n   font-weight: 400;\n   font-family: Yeseva One, serif;\n}\n\nbutton:hover {\n   box-shadow: 0 0 10px 0 #b1b1b1 inset, 0 0 20px 2px #b1b1b1;\n}\n\n/* ---BODY--- */\n\nbody {\n   margin: 0;\n   text-align: center;\n}\n\nheader {\n   margin: 0 auto;\n   width: 431px;\n   color: rgb(78, 200, 237);\n}\n\n.info__container {\n   display: flex;\n   justify-content: space-between;\n   background-color: #4ec8ed;\n   margin: 0 auto;\n   margin-top: -3px;\n   height: 100px;\n   width: 350px;\n   padding: 5px;\n   gap: 10px;\n   border-radius: 0px 0px 10px 10px;\n\n}\n\n.score {\n\n   width: 150px;\n   padding: 10px;\n   border: 2px solid rgb(238, 231, 172);\n   border-radius: 10px;\n   width: 95px;\n}\n\n.btn {\n\n   font-family: 'titan One';\n   font-size: 25px;\n\n   background-color: #d7d590;\n   height: 50px;\n   margin-top: 20px;\n   border-radius: 10px;\n   padding: 5px;\n   color: rgb(20, 100, 170);\n\n}\n\n.legend {\n\n   font-family: 'roboto';\n   font-size: 15px;\n}\n\n.sc {\n   margin-top: 8px;\n   font-family: 'titan One';\n   font-size: 30px;\n   color: rgb(24, 151, 49);\n}\n\n#game {\n   border-radius: 10px 10px 0px 0px;\n\n}\n\n.anykey {\n\n   display: flex;\n\n   width: 150px;\n   padding: 10px;\n   border: 2px solid rgb(238, 231, 172);\n   border-radius: 10px;\n   width: 95px;\n\n   font-family: 'titan One';\n   font-size: 15px;\n   text-transform: uppercase;\n   color: rgb(24, 151, 49);\n\n   align-items: center;\n\n\n}\n\n.hidden {\n\n   display: none;\n}",""]);const a=h},645:i=>{i.exports=function(i){var t=[];return t.toString=function(){return this.map((function(t){var e="",s=void 0!==t[5];return t[4]&&(e+="@supports (".concat(t[4],") {")),t[2]&&(e+="@media ".concat(t[2]," {")),s&&(e+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),e+=i(t),s&&(e+="}"),t[2]&&(e+="}"),t[4]&&(e+="}"),e})).join("")},t.i=function(i,e,s,n,r){"string"==typeof i&&(i=[[null,i,void 0]]);var h={};if(s)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(h[o]=!0)}for(var c=0;c<i.length;c++){var d=[].concat(i[c]);s&&h[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),e&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=e):d[2]=e),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},81:i=>{i.exports=function(i){return i[1]}},379:i=>{var t=[];function e(i){for(var e=-1,s=0;s<t.length;s++)if(t[s].identifier===i){e=s;break}return e}function s(i,s){for(var r={},h=[],a=0;a<i.length;a++){var o=i[a],c=s.base?o[0]+s.base:o[0],d=r[c]||0,g="".concat(c," ").concat(d);r[c]=d+1;var b=e(g),l={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==b)t[b].references++,t[b].updater(l);else{var u=n(l,s);s.byIndex=a,t.splice(a,0,{identifier:g,updater:u,references:1})}h.push(g)}return h}function n(i,t){var e=t.domAPI(t);return e.update(i),function(t){if(t){if(t.css===i.css&&t.media===i.media&&t.sourceMap===i.sourceMap&&t.supports===i.supports&&t.layer===i.layer)return;e.update(i=t)}else e.remove()}}i.exports=function(i,n){var r=s(i=i||[],n=n||{});return function(i){i=i||[];for(var h=0;h<r.length;h++){var a=e(r[h]);t[a].references--}for(var o=s(i,n),c=0;c<r.length;c++){var d=e(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=o}}},569:i=>{var t={};i.exports=function(i,e){var s=function(i){if(void 0===t[i]){var e=document.querySelector(i);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(i){e=null}t[i]=e}return t[i]}(i);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}},216:i=>{i.exports=function(i){var t=document.createElement("style");return i.setAttributes(t,i.attributes),i.insert(t,i.options),t}},565:(i,t,e)=>{i.exports=function(i){var t=e.nc;t&&i.setAttribute("nonce",t)}},795:i=>{i.exports=function(i){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=i.insertStyleElement(i);return{update:function(e){!function(i,t,e){var s="";e.supports&&(s+="@supports (".concat(e.supports,") {")),e.media&&(s+="@media ".concat(e.media," {"));var n=void 0!==e.layer;n&&(s+="@layer".concat(e.layer.length>0?" ".concat(e.layer):""," {")),s+=e.css,n&&(s+="}"),e.media&&(s+="}"),e.supports&&(s+="}");var r=e.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,i,t.options)}(t,i,e)},remove:function(){!function(i){if(null===i.parentNode)return!1;i.parentNode.removeChild(i)}(t)}}}},589:i=>{i.exports=function(i,t){if(t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}}},t={};function e(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,exports:{}};return i[s](r,r.exports,e),r.exports}e.n=i=>{var t=i&&i.__esModule?()=>i.default:()=>i;return e.d(t,{a:t}),t},e.d=(i,t)=>{for(var s in t)e.o(t,s)&&!e.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:t[s]})},e.o=(i,t)=>Object.prototype.hasOwnProperty.call(i,t),e.nc=void 0,(()=>{var i=e(379),t=e.n(i),s=e(795),n=e.n(s),r=e(569),h=e.n(r),a=e(565),o=e.n(a),c=e(216),d=e.n(c),g=e(589),b=e.n(g),l=e(402),u={};u.styleTagTransform=b(),u.setAttributes=o(),u.insert=h().bind(null,"head"),u.domAPI=n(),u.insertStyleElement=d(),t()(l.Z,u),l.Z&&l.Z.locals&&l.Z.locals;const f=class{constructor(i,t){this._bgX=0,this._canvasGraphics=i,this._config=t}drawBackground(i){this._canvasGraphics.drawSky(),0==i&&(this._bgX-=this._config.backgroundSpeed),this._bgX==-this._config.canvasWidth&&(this._bgX=0),this._canvasGraphics.draw(this._config.bgSize.sx,this._config.bgSize.sy,this._config.bgSize.sw,this._config.bgSize.sh,this._bgX,this._config.canvasHeight-this._config.bgSize.height,this._config.canvasWidth,this._config.bgSize.height),this._canvasGraphics.draw(this._config.bgSize.sx,this._config.bgSize.sy,this._config.bgSize.sw,this._config.bgSize.sh,this._bgX+this._config.canvasWidth,this._config.canvasHeight-this._config.bgSize.height,this._config.canvasWidth,this._config.bgSize.height)}},p=class{constructor(i,t){this.canvasGraphics=i,this.config=t}drawFloor(){this.canvasGraphics.draw(this.config.floorSize.sx,this.config.floorSize.sy,this.config.floorSize.sw,this.config.floorSize.sh,0,this.config.canvasHeight-this.config.floorSize.sh,this.config.floorSize.width,this.config.floorSize.height)}},m=class{constructor(i,t,e){this.canvasGraphics=i,this.config=t,this.bird=e,this.tubes=[],this.crashFlag=!1,this.floorFallFlag=!1,this.tubesCreateTime=this.config.initialTubesCreateTime,this.interval=0,this.tubeTimeMarker=!1,this.speed=this.config.speed,this.tubes[0]={x:this.config.canvasWidth+Math.floor(this.config.initialTubeGap/this.speed)*this.speed,y:Math.floor(Math.random()*(this.config.upTubeYMax-this.config.upTubeYMin)+this.config.upTubeYMin)}}drawTubes(i){for(let t=0;t<this.tubes.length;t++)this.canvasGraphics.draw(this.config.tubeSize.upSx,this.config.tubeSize.sy,this.config.tubeSize.width,this.config.tubeSize.height,this.tubes[t].x,this.tubes[t].y,this.config.tubeSize.gameWidth,this.config.tubeSize.height),this.canvasGraphics.draw(this.config.tubeSize.downSx,this.config.tubeSize.sy,this.config.tubeSize.width,this.config.tubeSize.height,this.tubes[t].x,this.tubes[t].y+this.config.tubeSize.height+this.config.gateHeight,this.config.tubeSize.gameWidth,this.config.tubeSize.height),0==i&&(this.tubes[t].x=this.tubes[t].x-this.speed);this.tubes[0].x==this.config.canvasWidth&&(this.now=new Date)}tubesTimeCheck(){let i=new Date;this.interval=i-this.now,1==Math.floor(this.interval/this.tubesCreateTime)?(this.tubeTimeMarker=!0,this.now=new Date):this.tubeTimeMarker=!1}createNextTube(){1==this.tubeTimeMarker&&0==this.crashFlag&&this.tubes.push({x:this.config.canvasWidth,y:Math.floor(Math.random()*(this.config.upTubeYMax-this.config.upTubeYMin)+this.config.upTubeYMin)})}},v=class{constructor(){this.currentScore=0,this.bestScore=localStorage.getItem("bestScoreBird")}scorePlus(){this.currentScore++,document.getElementById("current-score").innerText=this.currentScore}currentScoreZero(){this.currentScore=0,document.getElementById("current-score").innerText=0}bestScoreRenew(){this.currentScore>this.bestScore&&(document.getElementById("best-score").innerText=this.currentScore,localStorage.setItem("bestScoreBird",this.currentScore))}bestScoreGet(){this.bestScore=localStorage.getItem("bestScoreBird"),this.bestScore||(this.bestScore=0),document.getElementById("best-score").innerText=this.bestScore}scoreReset(){localStorage.clear(),this.bestScore=0}},y=class{constructor(i,t){this.canvasgraphics=i,this.config=t,this.restartButton=document.querySelector(".btn"),this.infobanner=document.querySelector(".anykey")}drawGameOver(){this.canvasgraphics.draw(this.config.bannerSize.sx,this.config.bannerSize.sy,this.config.bannerSize.sw,this.config.bannerSize.sh,this.config.bannerSize.dx,this.config.bannerSize.dy,this.config.bannerSize.width,this.config.bannerSize.height)}drawGetReady(){this.canvasgraphics.draw(this.config.grbannerSize.sx,this.config.grbannerSize.sy,this.config.grbannerSize.sw,this.config.grbannerSize.sh,this.config.grbannerSize.dx,this.config.grbannerSize.dy,this.config.grbannerSize.width,this.config.grbannerSize.height)}hideRestart(){this.restartButton.classList.add("hidden"),this.infobanner.classList.remove("hidden")}showRestart(){this.restartButton.classList.remove("hidden"),this.infobanner.classList.add("hidden")}},S=class{constructor(i,t,e){this.canvasGraphics=i,this.config=t,this.gravity=e,this.currentFrame=0,this.z=0,this.jumpTimer=16,this.birdXpos=this.config.birdXpos,this.birdYpos=this.config.birdYpos,this.birdCenter={},this.jumpHeight=this.config.jumpHeight}birdFramesControl(){this.z++,this.z>=this.config.birdAnimationSpeedCoeff*this.config.birdSize.frames.length&&(this.z=0),this.currentFrame=Math.trunc(this.z/this.config.birdAnimationSpeedCoeff)}birdDrawStraight(){this.birdYpos=this.gravity.gravityAction(this.birdYpos),this.canvasGraphics.draw(this.config.birdSize.sx,this.config.birdSize.frames[this.currentFrame].y,this.config.birdSize.swidth,this.config.birdSize.sheight,this.birdXpos,this.birdYpos,this.config.birdSize.width,this.config.birdSize.height)}birdDrawRotated(i,t){this.birdYpos=this.gravity.gravityAction(this.birdYpos),this.birdCenter={bcXpos:this.birdXpos+this.config.birdSize.width/2,bcYpos:this.birdYpos+this.config.birdSize.height/2},this.birdRotatedPosition={sx:this.config.birdSize.sx,sy:this.config.birdSize.frames[t].y,sw:this.config.birdSize.swidth,sh:this.config.birdSize.sheight,dx:-this.config.birdSize.width/2,dy:-this.config.birdSize.width/2,dw:this.config.birdSize.width,dh:this.config.birdSize.height},this.canvasGraphics.drawRotated(i,this.birdCenter,this.birdRotatedPosition)}birdJump(){this.birdYpos=this.birdYpos-25,this.jumpTimer=0,this.gravity.gravityReset()}birdFall(){this.crashFlag=!0,this.gravity.gravityFallAction(),this.birdDrawRotated(this.config.fallRotateAngle,1)}drawBird(i){this.jumpTimer<this.config.jumpRotateTime&&0==i?(this.birdDrawRotated(this.config.upRotateAngle,this.currentFrame),this.jumpTimer++):this.jumpTimer==this.config.jumpRotateTime&&0==i?this.birdDrawRotated(this.config.downRotateAngle,this.currentFrame):0==i&&this.birdDrawStraight()}birdReset(){this.birdXpos=this.config.birdXpos,this.birdYpos=this.config.birdYpos,this.currentFrame=0,this.z=0,this.jumpTimer=16,this.birdDrawStraight()}},w=new class{constructor(){this.canvasWidth=+document.getElementById("game").getAttribute("width"),this.canvasHeight=+document.getElementById("game").getAttribute("height"),this.birdSize={sx:276,syframe1:112,swidth:33,sheight:28,width:33,height:28,frames:[{x:276,y:112,w:34,h:28},{x:276,y:138,w:34,h:28},{x:276,y:164,w:34,h:28},{x:276,y:138,w:34,h:28}]},this.tubeSize={upSx:554,downSx:501,sy:0,width:55,height:401,gameWidth:2*this.birdSize.width},this.floorSize={sx:276,sy:0,sw:225,sh:50,width:350,height:50},this.bgSize={sx:0,sy:0,sw:275,sh:230,width:350,height:230},this.bannerSize={sx:194,sy:230,sw:188,sh:38,dx:52,dy:220,width:250,height:50},this.grbannerSize={sx:2,sy:230,sw:188,sh:40,dx:59,dy:100,width:250,height:50},this.birdXpos=60,this.birdYpos=200,this.gateHeight=.25*(this.canvasHeight-this.floorSize.height),this.jumpHeight=this.gateHeight/2,this.initialTubesCreateTime=1e3,this.speed=Math.round(4*this.tubeSize.width/60),this.gravityAccelerate=.04,this.initialGravity=1,this.upTubeYMax=-175,this.upTubeYMin=-325,this.initialTubeGap=200,this.backgroundSpeed=1,this.birdAnimationSpeedCoeff=10,this.jumpRotateTime=15,this.upRotateAngle=-30,this.downRotateAngle=30,this.fallRotateAngle=90}},x=new class{constructor(i,t,e){this.canvasGraphics=i,this.config=t,this.gravity=e,this.crashFlag=!1,this.floorFallFlag=!1,this.id=null,this.playMode=!1,this.firstClickFlag=!0,this.screen=document.getElementById("game_container"),this.gameField=document.getElementById("game_container")}fallToFloorCheck(){this.bird.birdYpos+this.config.birdSize.height>=this.config.canvasHeight-this.config.floorSize.sh&&(this.bird.birdYpos=this.config.canvasHeight-this.config.floorSize.sh-this.config.birdSize.height,this.floorFallFlag=!0,this.score.bestScoreRenew(),this.banner.drawGameOver(),this.banner.showRestart()),this.bird.birdYpos<=1&&(this.bird.birdYpos=1)}animationStart(){0==this.floorFallFlag?this.id=requestAnimationFrame(this.drawGame.bind(this)):cancelAnimationFrame(this.id),0==this.playMode&&this.banner.drawGetReady()}gameStartListener(){this.screen.addEventListener("click",this.setPlayMode.bind(this)),document.addEventListener("keydown",this.setPlayMode.bind(this)),document.addEventListener("keydown",this.bird.birdJump.bind(this.bird)),this.gameField.addEventListener("click",this.bird.birdJump.bind(this.bird))}setPlayMode(){this.firstClickFlag&&(this.firstClickFlag=!1,this.tube.speed=this.config.speed,this.gravity.gravity=this.config.initialGravity,this.gravity.gravityAccelerate=this.config.gravityAccelerate,this.playMode=!0)}crashAndOvercomeCheck(){for(let i=0;i<this.tube.tubes.length;i++)this.bird.birdXpos+this.config.birdSize.width>=this.tube.tubes[i].x&&this.bird.birdXpos<=this.tube.tubes[i].x+this.config.tubeSize.width/2&&(this.bird.birdYpos<=this.tube.tubes[i].y+this.config.tubeSize.height||this.bird.birdYpos+this.config.birdSize.height>=this.tube.tubes[i].y+this.config.tubeSize.height+this.config.gateHeight)?(this.tube.speed=0,this.crashFlag=!0):1==this.crashFlag&&this.bird.birdFall(),this.tube.tubes[i].x+this.config.tubeSize.width/2==this.checkpointX&&this.score.scorePlus()}drawGame(){this.background.drawBackground(this.floorFallFlag),this.bird.birdFramesControl(),this.bird.drawBird(this.crashFlag),this.animationStart(),this.tube.drawTubes(this.crashFlag),this.tube.tubesTimeCheck(),this.tube.createNextTube(),this.crashAndOvercomeCheck(),this.floor.drawFloor(),this.fallToFloorCheck()}gameRestart(){this.floor=new p(this.canvasGraphics,this.config),this.background=new f(this.canvasGraphics,this.config),this.score=new v,this.tube=new m(this.canvasGraphics,this.config,this.bird),this.banner=new y(this.canvasGraphics,this.config),this.bird=new S(this.canvasGraphics,this.config,this.gravity),this.pathSpeedX=Math.floor((this.config.canvasWidth+this.config.tubeSize.width/2-this.config.birdXpos)/this.tube.speed),this.checkpointX=this.config.canvasWidth+this.config.tubeSize.width/2-Math.floor(this.pathSpeedX*this.tube.speed),this.gameStartListener(),this.bird.birdReset(),this.canvasGraphics.clear(),this.floorFallFlag=!1,this.crashFlag=!1,this.playMode=!1,this.firstClickFlag=!0,this.banner.hideRestart(),this.score.bestScoreGet(),this.score.currentScoreZero(),this.tube.speed=0,this.gravity.gravity=0,this.gravity.gravityAccelerate=0,this.drawGame()}}(new class{constructor(){this.img=new Image,this.img.src="sprite.png",this.canvas=document.getElementById("game"),this.ctx=this.canvas.getContext("2d")}drawSky(){this.ctx.fillStyle="#4ec8ed",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}draw(i,t,e,s,n,r,h,a){this.ctx.drawImage(this.img,i,t,e,s,n,r,h,a)}drawRotated(i,t,e){this.ctx.save(),this.ctx.translate(t.bcXpos,t.bcYpos),this.ctx.rotate(i*Math.PI/180),this.draw(e.sx,e.sy,e.sw,e.sh,e.dx,e.dy,e.dw,e.dh),this.ctx.restore()}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},w,new class{constructor(i){this.config=i,this.initialGravity=this.config.initialGravity,this.gravity=this.initialGravity,this.gravityAccelerate=this.config.gravityAccelerate}gravityReset(){this.gravity=this.initialGravity,this.gravityAccelerate=this.config.gravityAccelerate}gravityAction(i){return i+=this.gravity,this.gravity+=this.gravityAccelerate,i}gravityAccelerateAction(){this.gravity+=this.gravityAccelerate}gravityReset(){this.gravity=this.initialGravity}gravityFallAction(){this.gravity=this.initialGravity+8}}(w));document.querySelector(".btn").addEventListener("click",x.gameRestart.bind(x)),x.gameRestart()})()})();